kind: Module
description: The voting UI
name: vote
# repositoryUrl: http://github.com/garden-io/garden...
type: container
hotReload:
  sync:
    - target: /app/src
      source: src
services:
  - name: vote
    env:
      REDIS_HOST: redis
    annotations:
      app.openshift.io/connects-to: redis
    ports:
      - name: http
        containerPort: 8080
    ingresses:
      - path: /
        port: http
        hostname: ${local.env.USER || local.username}-${var.environment}vote.${var.domain}
    dependencies:
      - redis
tests:
  - name: integ
    args: [echo, ko]
    dependencies:
      - redis
